<!DOCTYPE html>  
<html>
    <head>
        <title>王丽霞的个人简历</title>
        <link rel="stylesheet" href="./resume.css">
        <link rel="stylesheet" href="./loading.css">
        <script src="//at.alicdn.com/t/font_1003667_3vujvsfkt8t.js"></script>
        <style type="text/css">
            .icon {
               width: 1em; height: 1em;
               vertical-align: -0.15em;
               fill: currentColor;
               overflow: hidden;
            }
            .site-welcome{
                display: none;
                position:fixed;
                top:0;
                left:0;
                width:100%;
                height:100%;
                background:#fff;
                z-index:1;
                justify-content:center;
                align-items:center;
            }
            .site-welcome.active{
                display:flex;

            }
            .topNavBar .submenu{
                display:none;
                position:absolute;
                right:0;
                top:100%;
                background:white;
                color:#3d4451;
                box-shadow:0 0 5px rgba(0,0,0,0.3);
            }
            .topNavBar li.active .submenu{
                display:block;
                animation:submenuSlide 0.3s;
            }
            .topNavBar .submenu>li{
                white-space: nowrap;
                padding:5px 10px;
                cursor: pointer;
            }
            @keyframes submenuSlide {
                   0%{margin-right:100%;}
                   100%{margin-right:0%;}
                   }
        </style>
    </head>
    <body>
    <div id="sitewelcome" class="site-welcome active">
       <div class="loading"></div>
    </div>
    <div id="topNavBar" class="topNavBar">
        <div class="topNavBar-inner clearfix">
        <a class="logo" href="#" alt="logo" style="float:left;">
            <span class="rs">RS</span><span class="card">card</span>
        </a>
        <nav class="menu" style="float:right;" >
            <!--让导航条横起来给ul加classfix类，给li加float属性 .但是ul有默认样式，左边有空隙，
            在ul style中添加margin:0;padding:0就可以去除样式     写样式用冒号：不是用等于号
             1.内联样式实现  2.在外部css中写样式 
            1.下面是用内联样式写的方法，太繁琐，  推荐外部样式的写法 -->

            <!-- <ul style="list-style:none;margin:0;padding:0;border:1px solid red;" class="clearfix">
                <li style="float:left;border:1px solid green;">
                    <a href="#"> ABOUT</a>
                </li>
                <li style="float:left;border:1px solid green;">
                    <a href="#"> SKILLS</a>
                </li>
                <li style="float:left;border:1px solid green;">
                    <a href="#"> PORTFOLIO</a>
                </li>
                <li style="float:left;border:1px solid green;">
                    <a href="#"> EXPERIENCE</a>
                </li>
                <li style="float:left;border:1px solid green;">
                    <a href="#"> PRICING</a>
                </li>
                <li style="float:left;border:1px solid green;">
                    <a href="#"> BLOG</a>
                </li>
                <li style="float:left;border:1px solid green;">
                    <a href="#"> CALENDAR</a>
                </li>
                <li style="float:left;border:1px solid green;">
                    <a href="#"> CONTACT</a>
                </li>
                <li style="float:left;border:1px solid green;">
                    <a href="#"> OTHER</a>
                </li>
            </ul> -->

            <!-- 2.在外部css中写样式  -->
            
                    <ul class="clearfix";>
                        <li >
                            <a href="#siteAbout"> ABOUT</a>
                        </li>
                        <li >
                            <a href="#siteSkills"> SKILLS</a>
                        </li>
                        <li >
                            <a href="#sitePortfolio">作品 </a>
                            <ul class="submenu">
                                <li>作品1</li>
                                <li>作品2</li>
                                <li>作品3</li>
                            </ul>
                        </li>
                        <li>
                            <a href="#siteExperience"> EXPERIENCE</a>
                        </li>
                        <li>
                            <a href="#sitePricing"> PRICING</a>
                        </li>
                        <li>
                            <a href="#siteBlog"> BLOG</a>
                            <ul class="submenu">
                                <li>博客1</li>
                                <li>博客2</li>
                                <li>博客3</li>
                            </ul>
                        </li>
                        <li >
                            <a href="#siteCalendar"> CALENDAR</a>
                        </li>
                        <li>
                            <a href="#siteContant"> CONTACT</a>
                        </li>
                        <li>
                            <a href="#siteOther"> OTHER</a>
                        </li>
                     </ul>

            
        </nav>
    </div>
    </div>
    <div class="banner">
        <div class="mask"></div>
    </div>
    <main>
        <div data-x id="siteAbout" class="userCard">
            <div class="pictureAndText clearfix">
                <div class="picture">
                    <img src="./img/me.jpg"  width="299" height="347" alt="头像"> 
                </div>
                <div class="text">
                    <div class="profile clearfix">
                        <span class="welcome">Hello
                            <span class="triangle"></span>
                        </span>
                        <h1>王丽霞</h1>
                        <p>工程师</p>
                        <hr/>
                        <dl>
                            <dt>年龄</dt>
                            <dd>29</dd>
                            <dt>学历</dt>
                            <dd>本科</dd>
                            <dt>婚姻状况</dt>
                            <dd>已婚</dd>
                            <dt>期望工作地</dt>
                            <dd>北京</dd>
                            <dt>邮箱</dt>
                            <dd>872801466@qq.com</dd>
                        </dl>
                    </div>
                </div>
            </div>
        <footer class="media">
            <a href="https://github.com/wlxcch" target="_blank">
                <svg class="icon" aria-hidden="true">
                <use xlink:href="#icon-github"></use>
                </svg>    
            </a>
            <a href="https://www.zhihu.com/people/da-xia-14-33-35/activities">
                <svg class="icon" aria-hidden="true">
                <use xlink:href="#icon-matuwang-zhihufangxingdianji"></use>
                </svg>    
            </a>
            <a href="http://js.jirengu.com/?">
                <svg class="icon" aria-hidden="true">
                <use xlink:href="#icon-jirengulogored-copy"></use>
                </svg>    
            </a>
            <a href="https://wlxcch.github.io/index.html">
                <svg class="icon" aria-hidden="true">
                <use xlink:href="#icon-boke"></use>
                </svg>    
            </a>
        </footer>
    </div>
        <p class="downloadResumeWrapper"><a class="downloadResume" href="./resume.pdf" target="_blank" download>下载简历</a></p>
        <p class="selfintroduction">踏实，诚实守信,吃苦耐劳,坚强自信 ,为人乐观,广泛阅览各类书籍，<br>
            工作积极进取,态度认真，沟通能力强，有强烈的责任感和团队精神</p>
    </main>
    <section data-x id="siteSkills" class="skills">
        <div class="mask2" style="opacity: 0.3">学习进行时</div>
        <h2>技能</h2>
        <ol class="clearfix" >
            <li>
                <h3>HTML &amp ;css3</h3>
                <div class="progressBar">
                   <div class="progress"></div>
                </div>
            </li>
            <li>
                <h3>JavaScript</h3>
                <div class="progressBar">
                   <div class="progress"></div>
                </div>
            </li>
            <li>
                 <h3>Jquery</h3>
                 <div class="progressBar">
                    <div class="progress"></div>
                 </div>
            </li>
            <li>
                    <h3>Vue</h3>
                    <div class="progressBar">
                       <div class="progress"></div>
                    </div>
             </li> 
             <li>
                    <h3>React</h3>
                    <div class="progressBar">
                       <div class="progress"></div>
                    </div>
             </li> 
             <li>
                    <h3>HTTP</h3>
                    <div class="progressBar">
                       <div class="progress"></div>
                    </div>
             </li>                    
        </ol>
    </section>
    <section data-x id="sitePortfolio" class="portfolio">
      <h2>作品集</h2>
      <nav>    
        <ol class="clearfix">
            <li id="portfolio1">所有</li>
            <li id="portfolio2">框架</li>
            <li id="portfolio3">原生JS &amp ;css</li>
        </ol>
        <div id="portfolioBar" class="bar">
            <div class="barinner"> </div>
        </div>
     </nav> 
     <script>
            portfolio1.onclick=function(){
                portfolioBar.className='bar state1'
            }
            portfolio2.onclick=function(){
                portfolioBar.className='bar state2'
            }
            portfolio3.onclick=function(){
                portfolioBar.className='bar state3'
            }
     </script>
     <div class="works">
         <div class="big">
            <a href="  https://wlxcch.github.io/js/kbd/kbd.html" target="_blank">
                 <img src="./img/1.jpg" style="opacity: 0.5"><div class="mask1">键盘导航</div></a>
        </div>
         <div class="small1">
            <a href="https://wlxcch.github.io/js/canvas/canvas.html" target="_blank"> 
                <img src="./img/2.jpg" style="opacity: 0.5"><div class="mask1">简单画板</div></a>
        </div>
         <div class="small2">
            <a href="https://wlxcch.github.io/an-niu/%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87" target="_blank">
                 <img src="./img/3.jpg" style="opacity: 0.5"><div class="mask1">上传图片</div></a>
        </div>    
     </div>
    </section>
    </body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
    <script>
        // 网速太快了看不见loading，所以自己加了定时器，在3s后移除active类
        setTimeout(function(){
            sitewelcome.classList.remove('active')
        },1000) 


        let specialTags=document.querySelectorAll('[data-x]')
        for(let i=0;i<specialTags.length;i++){
               specialTags[i].classList.add('offset')
            }    

        setTimeout(function(){findCloseset()},2000)
        
        // window.onscroll监听鼠标滑动， window.scrollY监听鼠标滑动的距离 
        window.onscroll=function(){
            // console.log(window.scrollY)
            if(window.scrollY>0){
                topNavBar.classList.add('sticky')
            }
            else{
                topNavBar.classList.remove('sticky')
            }
       
       // 连续打印两次，一次带着引号，是为了分清打印的是什么 -------字符串和值
        // console.log('window.scrollY')
        // console.log(window.scrollY)
        findCloseset()
  } 

       function findCloseset(){
        let specialTags=document.querySelectorAll('[data-x]')
        let minIndex=0
        for(let i=1;i<specialTags.length;i++){
            if(Math.abs(specialTags[i].offsetTop-window.scrollY)<Math.abs(specialTags[minIndex].offsetTop-window.scrollY)){
                minIndex=i
            }
            // console.log('specialTags[i].offsetTop')
            // console.log(specialTags[i].offsetTop)
        }
    //   console.log(minIndex)
   

   
        specialTags[minIndex].classList.remove('offset')
        let id=specialTags[minIndex].id
        // console.log(id)
        let a=document.querySelector('a[href="#'+id+'"]')
        let li=a.parentNode
        // console.log(li)
        // id=='siteAbout' 'a[href=#siteAbout]' 
        // id=='siteWorks' 'a[href=#siteWorks]' 
        let brothersAndMe=li.parentNode.children
        for(let i=0;i<brothersAndMe.length;i++){
            brothersAndMe[i].classList.remove('highLight')
        }
        li.classList.add('highLight')
       }
        
        // 获取多个名字为.menuTigger class的元素
        // let liTags=document.getElementsByClassName('menuTigger')
        let liTags=document.querySelectorAll('nav.menu>ul>li')

        // console.log(aTags)
        for(let i=0;i<liTags.length;i++){
            liTags[i].onmouseenter=function(x){
                // console.log('mouseenter')
               x.currentTarget.classList.add('active')     

                // let li=x.currentTarget
                // let brother=li.getElementsByTagName('ul')[0]
                // brother.classList.add('active')

                // let brother=li.nextSibling
                // while(brother.nodeType ===3)

             // 用toLowerCase()转化成小写，
                //  while(brother.tagName.toLowerCase()!=='ul'
                //报错，可能borther.tagName找到的是两个标签之间的空文本，不能转化为小写了

                // UL必须大写while(brother.tagName!=='UL')这样保险
                // while(brother.tagName!=='UL') 
                // {
                //  brother=brother.nextSibling
                // }
                //  console.log(brother)
                // brother.classList.add('active')
            }
            liTags[i].onmouseleave=function(x){
                x.currentTarget.classList.remove('active') 
                // console.log('mouseleave')
                // let li=x.currentTarget

                // let brother=li.nextSibling 
                // while(brother.tagName!=='UL') 
                // {
                //  brother=brother.nextSibling
                // }
                // //  console.log(brother)

                // let brother=li.getElementsByTagName('ul')[0]
                // brother.classList.remove('active')
            }  
        }
        let aTags=document.querySelectorAll('nav.menu>ul>li>a')



        // for(let i=0;i<aTags.length;i++){
        //     aTags[i].onclick=function(x){
        //         x.preventDefault()//屏蔽默认的跳转
        //         // console.log('you clicked')
        //          console.log(x.currentTarget)
        //         let a=x.currentTarget
        //         // console.log(a.href)
        //         //console.log(a.href)打印结果，带着http协议，显示是被浏览器解析过的地址http://127.0.0.1:8080/resume.html#siteAbout
        //         连续打印两次，一次带着引号，是为了分清打印的是什么
        //         console.log('a.getAttribute('href')')
        //         console.log(a.getAttribute('href'))

        //         //a.getAttribute('href')打印结果是，我们写的什么就是什么，#siteSkills
        //         let href=a.getAttribute('href')
        //         //查找id为#siteSkills的元素
        //         let element =document.querySelector(href)
        //         let top=element.offsetTop
        //         // window.scrollTo(0,top-80)动时候有点突然
        //         //动的时候变得平滑，分成n次动
        //         let n=25//动25次
        //         let t=500/n //多久动一次
        //         let currentTop=window.scrollY
        //         let targetTop=top-80
        //         let distance=(targetTop-currentTop)/n
        //         let i=0
        //         let id=setInterval(()=>{
        //             if(i==n){
        //                 window.clearInterval(id)
        //                 return
        //             }
        //             i=i+1
        //             window.scrollTo(0,currentTop+distance*i)
        //         },t)


        //利用tween.js做动画比较自然，上面的算法比较生硬
        //引入tween.js后
 function animate(time) {
        requestAnimationFrame(animate);
        TWEEN.update(time);
    }
 requestAnimationFrame(animate);
  for(let i=0;i<aTags.length;i++){
        aTags[i].onclick=function(x){
        x.preventDefault()//屏蔽默认的跳转
        let a=x.currentTarget
        let href=a.getAttribute('href')
        let element =document.querySelector(href)
        let top = element.offsetTop

        let currentTop=window.scrollY
        let targetTop=top-80
        let s=targetTop-currentTop
        console.log(s)
        var coords = { y: currentTop }; 
    //    取绝对值，排除滚回去时，s为负值，时间不能为负
        var t=Math.abs((s/100)*300)
        if(t>500){t=500}
        var tween = new TWEEN.Tween(coords) 
            .to({y: targetTop}, t) 
            .easing(TWEEN.Easing.Quadratic.InOut) 
            .onUpdate(function() { 
                window.scrollTo(0,coords.y )
            })
        .start(); 
    }
}
    </script>
</html>